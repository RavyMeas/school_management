<UserControl x:Class="school_management.view.dasboard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:school_management.view"
             xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
             xmlns:viewmodels="clr-namespace:school_management.view_model"
             mc:Ignorable="d"
             d:DesignHeight="700" d:DesignWidth="1200">


    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="40,30">

            <!-- Header -->
            <TextBlock Text="Dashboard" Style="{StaticResource PageTitleStyle}"/>
            <TextBlock Text="Welcome to the School Management System" 
                       Style="{StaticResource PageSubtitleStyle}" 
                       Margin="0,0,0,30"/>

            <!-- Stats Cards -->
            <Grid Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Total Students Card -->
                <Border Grid.Column="0" Style="{StaticResource CardStyle}" Margin="0,0,15,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0">
                            <TextBlock Text="Total Students" Style="{StaticResource StatLabelStyle}"/>
                            <Border Style="{StaticResource BlueIconBadgeStyle}">
                                <fa:IconImage Icon="UserGraduate" 
                                              Foreground="{StaticResource PrimaryBlue}"
                                              Width="18" Height="18"/>
                            </Border>
                        </Grid>

                        <TextBlock Grid.Row="1" Text="{Binding TotalStudents}" Style="{StaticResource StatNumberStyle}"/>
                        <TextBlock Grid.Row="2" Text="Active students this year" 
                                   Style="{StaticResource StatDescriptionStyle}"/>
                    </Grid>
                </Border>

                <!-- Teachers Card -->
                <Border Grid.Column="1" Style="{StaticResource CardStyle}" Margin="0,0,15,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0">
                            <TextBlock Text="Teachers" Style="{StaticResource StatLabelStyle}"/>
                            <Border Style="{StaticResource GreenIconBadgeStyle}">
                                <fa:IconImage Icon="Chalkboard" 
                                              Foreground="{StaticResource PrimaryGreen}"
                                              Width="18" Height="18"/>
                            </Border>
                        </Grid>

                        <TextBlock Grid.Row="1" Text="{Binding TotalTeachers}" Style="{StaticResource StatNumberStyle}"/>
                        <TextBlock Grid.Row="2" Text="Active teaching staff" 
                                   Style="{StaticResource StatDescriptionStyle}"/>
                    </Grid>
                </Border>

                <!-- Classes Card -->
                <Border Grid.Column="2" Style="{StaticResource CardStyle}" Margin="0,0,15,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0">
                            <TextBlock Text="Classes" Style="{StaticResource StatLabelStyle}"/>
                            <Border Style="{StaticResource PurpleIconBadgeStyle}">
                                <fa:IconImage Icon="Book" 
                                              Foreground="{StaticResource PrimaryPurple}"
                                              Width="18" Height="18"/>
                            </Border>
                        </Grid>

                        <TextBlock Grid.Row="1" Text="{Binding TotalClasses}" Style="{StaticResource StatNumberStyle}"/>
                        <TextBlock Grid.Row="2" Text="Active classes" 
                                   Style="{StaticResource StatDescriptionStyle}"/>
                    </Grid>
                </Border>

                <!-- Academic Year Card -->
                <Border Grid.Column="3" Style="{StaticResource CardStyle}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0">
                            <TextBlock Text="Academic Year" Style="{StaticResource StatLabelStyle}"/>
                            <Border Style="{StaticResource OrangeIconBadgeStyle}">
                                <fa:IconImage Icon="Calendar" 
                                              Foreground="{StaticResource PrimaryOrange}"
                                              Width="18" Height="18"/>
                            </Border>
                        </Grid>

                        <TextBlock Grid.Row="1" Text="{Binding AcademicYear}" Style="{StaticResource StatNumberStyle}"/>
                        <TextBlock Grid.Row="2" Text="Current academic year" 
                                   Style="{StaticResource StatDescriptionStyle}"/>
                    </Grid>
                </Border>
            </Grid>

            <!-- Bottom Section -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1.5*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Recent Activities -->
                <Border Grid.Column="0" Style="{StaticResource CardStyle}" Margin="0,0,15,0">
                    <StackPanel>
                        <TextBlock Text="Recent Activities" Style="{StaticResource CardTitleStyle}"/>
                        <TextBlock Text="Latest activities in the system" 
                                   Style="{StaticResource CardSubtitleStyle}" 
                                   Margin="0,0,0,20"/>

                        <!-- Activity Item 1 -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Ellipse Grid.Column="0" 
                                     Style="{StaticResource ActivityDotStyle}"
                                     Fill="{StaticResource PrimaryBlue}"/>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="New student John Doe enrolled in Grade 10A" 
                                           Style="{StaticResource ActivityTextStyle}"/>
                                <TextBlock Text="2 hours ago" Style="{StaticResource ActivityTimeStyle}"/>
                            </StackPanel>
                        </Grid>

                        <!-- Activity Item 2 -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Ellipse Grid.Column="0" 
                                     Style="{StaticResource ActivityDotStyle}"
                                     Fill="{StaticResource PrimaryGreen}"/>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Teacher Sarah Johnson assigned to Math class" 
                                           Style="{StaticResource ActivityTextStyle}"/>
                                <TextBlock Text="4 hours ago" Style="{StaticResource ActivityTimeStyle}"/>
                            </StackPanel>
                        </Grid>

                        <!-- Activity Item 3 -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Ellipse Grid.Column="0" 
                                     Style="{StaticResource ActivityDotStyle}"
                                     Fill="{StaticResource PrimaryPurple}"/>
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Grade 9B schedule updated" 
                                           Style="{StaticResource ActivityTextStyle}"/>
                                <TextBlock Text="1 day ago" Style="{StaticResource ActivityTimeStyle}"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Quick Actions -->
                <Border Grid.Column="1" Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <TextBlock Text="Quick Actions" Style="{StaticResource CardTitleStyle}"/>
                        <TextBlock Text="Common tasks and shortcuts" 
                                   Style="{StaticResource CardSubtitleStyle}" 
                                   Margin="0,0,0,20"/>

                        <!-- Add New Student -->
                        <Button Style="{StaticResource BlueActionButtonStyle}"
                                Command="{Binding AddStudentCommand}">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="UserPlus" 
                                              Foreground="{StaticResource PrimaryBlue}"
                                              Width="16" Height="16"
                                              Margin="0,0,12,0"/>
                                <TextBlock Text="Add New Student" 
                                           FontSize="14" 
                                           Foreground="{StaticResource TextPrimary}" 
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Add New Teacher -->
                        <Button Style="{StaticResource GreenActionButtonStyle}"
                                Command="{Binding AddTeacherCommand}">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="ChalkboardTeacher" 
                                              Foreground="{StaticResource PrimaryGreen}"
                                              Width="16" Height="16"
                                              Margin="0,0,12,0"/>
                                <TextBlock Text="Add New Teacher" 
                                           FontSize="14" 
                                           Foreground="{StaticResource TextPrimary}" 
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Create New Class -->
                        <Button Style="{StaticResource PurpleActionButtonStyle}"
                             Command="{Binding CreateClassCommand}">
                            <StackPanel Orientation="Horizontal">
                                <fa:IconImage Icon="Plus" 
                             Foreground="{StaticResource PrimaryPurple}"
                             Width="16" Height="16"
                             Margin="0,0,12,0"/>
                                <TextBlock Text="Create new class" 
                          FontSize="14" 
                          Foreground="{StaticResource TextPrimary}" 
                          VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                    </StackPanel>
                </Border>
            </Grid>
        </StackPanel>
    </ScrollViewer>

</UserControl>
